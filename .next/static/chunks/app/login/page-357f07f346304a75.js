(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{2644:function(e,a,s){Promise.resolve().then(s.bind(s,738))},738:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return l}});var r=s(7437),t=s(2265);function l(){let[e,a]=(0,t.useState)(""),[s,l]=(0,t.useState)(""),[n,i]=(0,t.useState)(""),[o,c]=(0,t.useState)(!1),d=async a=>{a.preventDefault(),i(""),c(!0);try{let a=await fetch("".concat("https://localhost:7037","/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:s})});if(!a.ok)throw Error("Falha no login");let r=await a.json();localStorage.setItem("token",r.token),document.cookie="token=".concat(r.token,"; path=/; secure; samesite=strict"),window.location.href="/dashboard"}catch(e){i("Email ou senha incorretos.")}finally{c(!1)}};return(0,r.jsx)("div",{className:"barber-container",children:(0,r.jsxs)("div",{className:"barber-card",children:[(0,r.jsxs)("div",{className:"barber-logo",children:[(0,r.jsx)("div",{className:"scissors-icon",children:"✂"}),(0,r.jsx)("h1",{className:"barber-title",children:"Barbearia Premium"}),(0,r.jsx)("p",{className:"barber-subtitle",children:"Estilo e Tradi\xe7\xe3o"})]}),(0,r.jsx)("h2",{className:"welcome-text",children:"Bem-vindo de volta"}),(0,r.jsx)("p",{className:"welcome-subtitle",children:"Fa\xe7a login para acessar sua conta"}),(0,r.jsxs)("form",{onSubmit:d,className:"barber-form",children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Email"}),(0,r.jsx)("input",{type:"email",className:"barber-input",placeholder:"seuemail@gmail.com",value:e,onChange:e=>a(e.target.value),required:!0})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Senha"}),(0,r.jsx)("input",{type:"password",className:"barber-input",placeholder:"••••••••",value:s,onChange:e=>l(e.target.value),required:!0})]}),n&&(0,r.jsx)("p",{className:"error-message",children:n}),(0,r.jsx)("button",{type:"submit",className:"barber-button",disabled:o,children:(0,r.jsx)("span",{children:o?"Entrando...":"Entrar"})})]}),(0,r.jsxs)("p",{className:"footer-text",children:["Ainda n\xe3o tem conta?"," ",(0,r.jsx)("a",{href:"/register",className:"footer-link",children:"Cadastre-se"})]})]})})}s(3676)},3676:function(){}},function(e){e.O(0,[826,971,117,744],function(){return e(e.s=2644)}),_N_E=e.O()}]);